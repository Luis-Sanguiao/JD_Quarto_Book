<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>JDemetra+ online documentation - Seasonal Adjustment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./A-sa-hf.html" rel="next">
<link href="./P_Algorithms.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Seasonal Adjustment</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">JDemetra+ online documentation</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./G-what-is-jd.html" class="sidebar-item-text sidebar-link">JDemetra+</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./P_Algorithms.html" class="sidebar-item-text sidebar-link">Algorithms</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-sa.html" class="sidebar-item-text sidebar-link active">Seasonal Adjustment</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-sa-hf.html" class="sidebar-item-text sidebar-link">Seasonal adjustment of high-frequency data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-outlier-detection.html" class="sidebar-item-text sidebar-link">Outlier detection</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-calendar-and-input.html" class="sidebar-item-text sidebar-link">Calendar and user-defined corrections</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-benchmarking.html" class="sidebar-item-text sidebar-link">Benchmarking and temporal disagreggation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-trend-cycle-estimation.html" class="sidebar-item-text sidebar-link">Trend-cycle estimation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A-nowcasting.html" class="sidebar-item-text sidebar-link">Nowcasting</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./P_Tools.html" class="sidebar-item-text sidebar-link">Tools</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-graphical-user-interface.html" class="sidebar-item-text sidebar-link">Graphical User Interface</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-r-packages.html" class="sidebar-item-text sidebar-link">R packages</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-cruncher.html" class="sidebar-item-text sidebar-link">Cruncher and quality report</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-rev-policies-production.html" class="sidebar-item-text sidebar-link">Production and revision plocies</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-plug-ins.html" class="sidebar-item-text sidebar-link">Plug-ins for JDemetra+</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./T-tool-selection.html" class="sidebar-item-text sidebar-link">Tool selection issues and heuristics</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./P_Methods.html" class="sidebar-item-text sidebar-link">Methods</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-spectral-analysis.html" class="sidebar-item-text sidebar-link">Spectral Analysis Principles and Tools</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-reg-arima-modelling.html" class="sidebar-item-text sidebar-link">Reg-Arima models</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-X11-decomposition.html" class="sidebar-item-text sidebar-link">X-11 decomposition</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-STL-decomposition.html" class="sidebar-item-text sidebar-link">STL: Local regression decomposition</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-SEATS-decomposition.html" class="sidebar-item-text sidebar-link">SEATS decomposition</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-Trend-Estimation-Local-Polynomials.html" class="sidebar-item-text sidebar-link">Local Polynomials Methods for Trend Estimation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-tests.html" class="sidebar-item-text sidebar-link">Tests</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-state-space-framework.html" class="sidebar-item-text sidebar-link">State space modelling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./M-Temp-Disagg-Bench.html" class="sidebar-item-text sidebar-link">Temporal disaggregation and benchmarking</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#data-frequencies-high-and-low" id="toc-data-frequencies-high-and-low" class="nav-link" data-scroll-target="#data-frequencies-high-and-low">Data frequencies : high and low</a></li>
  <li><a href="#unobserved-components-uc" id="toc-unobserved-components-uc" class="nav-link" data-scroll-target="#unobserved-components-uc">Unobserved Components (UC)</a></li>
  <li><a href="#detecting-seasonal-patterns" id="toc-detecting-seasonal-patterns" class="nav-link" data-scroll-target="#detecting-seasonal-patterns">Detecting seasonal patterns</a></li>
  <li><a href="#available-algorithms" id="toc-available-algorithms" class="nav-link" data-scroll-target="#available-algorithms">Available algorithms</a></li>
  <li><a href="#pre-treatment-reg-arima-or-tramo" id="toc-pre-treatment-reg-arima-or-tramo" class="nav-link" data-scroll-target="#pre-treatment-reg-arima-or-tramo">Pre-treatment : Reg-ARIMA (or TRAMO)</a>
  <ul class="collapse">
  <li><a href="#global-outline" id="toc-global-outline" class="nav-link" data-scroll-target="#global-outline">Global outline</a></li>
  <li><a href="#default-specifications" id="toc-default-specifications" class="nav-link" data-scroll-target="#default-specifications">Default Specifications</a></li>
  <li><a href="#spans" id="toc-spans" class="nav-link" data-scroll-target="#spans">Spans</a></li>
  <li><a href="#decomposition-scheme" id="toc-decomposition-scheme" class="nav-link" data-scroll-target="#decomposition-scheme">Decomposition Scheme</a></li>
  <li><a href="#calendar-correction" id="toc-calendar-correction" class="nav-link" data-scroll-target="#calendar-correction">Calendar correction</a></li>
  <li><a href="#outliers-and-intervention-variables" id="toc-outliers-and-intervention-variables" class="nav-link" data-scroll-target="#outliers-and-intervention-variables">Outliers and intervention variables</a></li>
  <li><a href="#arima-model" id="toc-arima-model" class="nav-link" data-scroll-target="#arima-model">Arima Model</a></li>
  <li><a href="#regarima-model-results-and-diagnostics" id="toc-regarima-model-results-and-diagnostics" class="nav-link" data-scroll-target="#regarima-model-results-and-diagnostics">RegArima model Results and Diagnostics</a></li>
  <li><a href="#allocation-of-pre-treatment-effects" id="toc-allocation-of-pre-treatment-effects" class="nav-link" data-scroll-target="#allocation-of-pre-treatment-effects">Allocation of pre-treatment effects</a></li>
  </ul></li>
  <li><a href="#x-11-decompostion" id="toc-x-11-decompostion" class="nav-link" data-scroll-target="#x-11-decompostion">X-11 Decompostion</a>
  <ul class="collapse">
  <li><a href="#default-specifications-2" id="toc-default-specifications-2" class="nav-link" data-scroll-target="#default-specifications-2">Default specifications</a></li>
  <li><a href="#quick-launch" id="toc-quick-launch" class="nav-link" data-scroll-target="#quick-launch">Quick Launch</a></li>
  <li><a href="#output-1-series" id="toc-output-1-series" class="nav-link" data-scroll-target="#output-1-series">Output 1: series</a></li>
  <li><a href="#output-2-final-parameters" id="toc-output-2-final-parameters" class="nav-link" data-scroll-target="#output-2-final-parameters">Output 2: final parameters</a></li>
  <li><a href="#output-3-diagnostics" id="toc-output-3-diagnostics" class="nav-link" data-scroll-target="#output-3-diagnostics">Output 3: diagnostics</a></li>
  <li><a href="#user-defined-parameters" id="toc-user-defined-parameters" class="nav-link" data-scroll-target="#user-defined-parameters">User-defined parameters</a></li>
  </ul></li>
  <li><a href="#seats-decomposition" id="toc-seats-decomposition" class="nav-link" data-scroll-target="#seats-decomposition">SEATS Decomposition</a>
  <ul class="collapse">
  <li><a href="#default-specifications-3" id="toc-default-specifications-3" class="nav-link" data-scroll-target="#default-specifications-3">Default specifications</a></li>
  <li><a href="#quick-launch-1" id="toc-quick-launch-1" class="nav-link" data-scroll-target="#quick-launch-1">Quick Launch</a></li>
  <li><a href="#output-1-series-1" id="toc-output-1-series-1" class="nav-link" data-scroll-target="#output-1-series-1">Output 1: series</a></li>
  <li><a href="#output2-final-params" id="toc-output2-final-params" class="nav-link" data-scroll-target="#output2-final-params">Output2: Final Params</a></li>
  <li><a href="#output3-diagnostics" id="toc-output3-diagnostics" class="nav-link" data-scroll-target="#output3-diagnostics">Output3: Diagnostics</a></li>
  <li><a href="#fine-tuning-user-defined-parameters" id="toc-fine-tuning-user-defined-parameters" class="nav-link" data-scroll-target="#fine-tuning-user-defined-parameters">Fine-tuning : user defined parameters</a></li>
  </ul></li>
  <li><a href="#quality-assessment-for-x13-arima-and-tramo-seats" id="toc-quality-assessment-for-x13-arima-and-tramo-seats" class="nav-link" data-scroll-target="#quality-assessment-for-x13-arima-and-tramo-seats">Quality assessment for X13-Arima and Tramo-Seats</a>
  <ul class="collapse">
  <li><a href="#matrix" id="toc-matrix" class="nav-link" data-scroll-target="#matrix">Matrix</a></li>
  <li><a href="#residual-seasonality" id="toc-residual-seasonality" class="nav-link" data-scroll-target="#residual-seasonality">Residual seasonality</a></li>
  <li><a href="#residual-calendar-effects-1" id="toc-residual-calendar-effects-1" class="nav-link" data-scroll-target="#residual-calendar-effects-1">Residual calendar effects</a></li>
  <li><a href="#add-other-diagnostics-node" id="toc-add-other-diagnostics-node" class="nav-link" data-scroll-target="#add-other-diagnostics-node">Add other diagnostics node</a></li>
  </ul></li>
  <li><a href="#stl" id="toc-stl" class="nav-link" data-scroll-target="#stl">STL</a></li>
  <li><a href="#ssf" id="toc-ssf" class="nav-link" data-scroll-target="#ssf">SSF</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Seasonal Adjustment</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Hint at GUI chap for global principles - ws structure (new SAP) - global specification handling - file structure explanation</p>
<p>Hint at tool selection (link to chapter)</p>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>The primary aim of the seasonal adjustment process is to remove seasonal fluctuations from the time series. Seasonal fluctuations are quasi-periodic infra-annual movements. They can mask…</p>
<p>[insert def SA from b_ov]</p>
<ul>
<li>infra annual peridodic numbers</li>
<li>no unamigous definititon</li>
<li>depends on its practial estimation</li>
</ul>
</section>
<section id="data-frequencies-high-and-low" class="level2">
<h2 class="anchored" data-anchor-id="data-frequencies-high-and-low">Data frequencies : high and low</h2>
<p>Until recently seasonal where designed to tackly monthly frequencies or lower in JD+, X13- Seats Arima : 2,4,12 Seats : 2,3,4,6,12</p>
<p>For infra monthly data</p>
</section>
<section id="unobserved-components-uc" class="level2">
<h2 class="anchored" data-anchor-id="unobserved-components-uc">Unobserved Components (UC)</h2>
<p>The main components, each representing the impact of certain types of phenomena on the time series (<span class="math inline">\(X_{t}\)</span>), are:</p>
<ul>
<li><p>The trend (<span class="math inline">\(T_{t}\)</span>) that captures long-term and medium-term behaviour;</p></li>
<li><p>The seasonal component (<span class="math inline">\(S_{t}\)</span>) representing intra-year fluctuations, monthly or quarterly, that are repeated more or less regularly year after year;</p></li>
<li><p>The irregular component (<span class="math inline">\(I_{t}\)</span>) combining all the other more or less erratic fluctuations not covered by the previous components.</p></li>
</ul>
<p>In general, the trend consists of 2 sub-components:</p>
<ul>
<li><p>The long-term evolution of the series;</p></li>
<li><p>The cycle, that represents the smooth, almost periodic movement around the long-term evolution of the series. It reveals a succession of phases of growth and recession. Trend and cycle are not separated in SA alogrithms.</p></li>
</ul>
<p>Two decomposition models:</p>
<ul>
<li><p>The additive model: <span class="math inline">\(X_{t} = T_{t} + S_{t} + I_{t}\)</span>;</p></li>
<li><p>The multiplicatve model: <span class="math inline">\(X_{t} = T_{t} \times S_{t} \times I_{t}\)</span>.</p></li>
</ul>
<p>In the Reg-Arima (link) or Tramo(link) modelling the the multplicative model is estimated in logs; <span class="math inline">\(log(X_{t}) = log(T_{t}) + log(S_{t}) + log(I_{t})\)</span>; Seats decompostion also relies on logs wheres X-11 decomp operates…</p>
</section>
<section id="detecting-seasonal-patterns" class="level2">
<h2 class="anchored" data-anchor-id="detecting-seasonal-patterns">Detecting seasonal patterns</h2>
<p>Seasonality tests (chap M_Tests)</p>
</section>
<section id="available-algorithms" class="level2">
<h2 class="anchored" data-anchor-id="available-algorithms">Available algorithms</h2>
<p>(link to table)</p>
<p>The two most popular are..</p>
<p>X-13ARIMA is a seasonal adjustment program developed and supported by the U.S. Census Bureau. It is based on the U.S. Census Bureau’s earlier X-11 program, the X-11-ARIMA program developed at Statistics Canada, the X-12-ARIMA program developed by the U.S. Census Bureau.</p>
<p>Tramo-Seats</p>
<p>Those will be the most detailed in this doc, but there alternative solutions.</p>
<p>STL</p>
<p>BSM</p>
<p>X13 and TS are two step algos, pretreatment +dcomp (no pre ptreatment in STL + all at once in BSM)</p>
<ul>
<li><p>pre-treatment objectives and methods</p></li>
<li><p>decomposition objective and methods</p></li>
</ul>
</section>
<section id="pre-treatment-reg-arima-or-tramo" class="level2">
<h2 class="anchored" data-anchor-id="pre-treatment-reg-arima-or-tramo">Pre-treatment : Reg-ARIMA (or TRAMO)</h2>
<p>rationale</p>
<p>NOTE: Modelling</p>
<p>this should just be a “note” not a part</p>
<p>(small addendum) the reg arima part can be run without decompostion slight differences in parameters</p>
<p>ref to additionnal chapter ?</p>
<section id="global-outline" class="level3">
<h3 class="anchored" data-anchor-id="global-outline">Global outline</h3>
<p>let’s call it regArima modelling (and tramo only when TRamo differences are outlined)</p>
<p>GOAL : remove deterministic effects to improve decompostion (details on modelling: link)</p>
<p>global structure regression with ARIMA structure for residuals <span class="math display">\[
Y_t = \sum {\alpha}_i O_{it} + \sum\beta_j C_{jt} + \sum {\gamma}_i U_{it} + Y_{lin,t}
\]</span> where - <span class="math inline">\(O_{it}\)</span> are the <span class="math inline">\(i\)</span> final outliers (Ao, LS, TC) from an automatic detection pocedure (link to outliers chap)</p>
<ul>
<li><p><span class="math inline">\(C_{it}\)</span> are the calendar regressors (automatic or user-defined) (link to calendar chap)</p></li>
<li><p><span class="math inline">\(U_{it}\)</span> are all the other user-defined regressors (link to outliers and regressors chap)</p></li>
<li><p><span class="math inline">\(Y_{lin,t} \sim ARIMA(p,d,q)(P,D,Q)\)</span></p></li>
</ul>
<p>In the following sections we cover in more details: not the tight structure - Default params: (quick launch) INPUT (?) - Setting User-defined parameters (and not at the end post diagnostics ?) - Output1: series - Output2: Final Params - Output3: Diagnostics for each of these steps - calendar (auto and user) - outliers (auto and user) - adding intervention variables (here: just how to feed the model, details on regressor and calendar specif chapter) - aima models parameters annd diagno</p>
<p>RegArima modelling part can be of an SA process or run on its own - GUI - R (sligthly different specs,…)</p>
<p>WARNING : set params + retrieve their values: global principles</p>
<p>in GUI</p>
<p>Retrieve: in the specification window and panels for main (to detail ?)</p>
<p>in R</p>
</section>
<section id="default-specifications" class="level3">
<h3 class="anchored" data-anchor-id="default-specifications">Default Specifications</h3>
<p>here general explanations</p>
<p>default specification are set for the whole sa procedure: pre-treatment end decomposition</p>
<p>they are slightly different for X13-ARIMA and tramo seats</p>
<p>the user chooses the algo + one default spec</p>
<p>this default spec can be modified with user defined params for most of its parts, this is tackeled in details dor every sub part of the reg arima (tramo) modelling and corresponding decompostion (x11 and seats)</p>
<p>Strating point for X13-ARIMA</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 22%">
<col style="width: 21%">
<col style="width: 19%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th>Spec identifier</th>
<th>Log/level detection</th>
<th>Outliers detection</th>
<th>Calendar effects</th>
<th>ARIMA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RSA0</td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td>Airline(+mean)</td>
</tr>
<tr class="even">
<td>RSA1</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td><em>NA</em></td>
<td>Airline(+mean)</td>
</tr>
<tr class="odd">
<td>RSA2c</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>2 TD vars+Easter</td>
<td>Airline(+mean)</td>
</tr>
<tr class="even">
<td>RSA3</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td><em>NA</em></td>
<td>automatic</td>
</tr>
<tr class="odd">
<td>RSA4c</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>2 TD vars+Easter</td>
<td>automatic</td>
</tr>
<tr class="even">
<td>RSA5</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>7 TD vars+Easter</td>
<td>automatic</td>
</tr>
<tr class="odd">
<td>X-11</td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td><em>NA</em></td>
</tr>
</tbody>
</table>
<p>explanations :</p>
<p><em>NA :</em> non applied</p>
<p>X11</p>
<p>RSA0</p>
<p>RSA3: no calendar effect correction</p>
<p>automatic: test is performed,</p>
<p>outliers : AO/LS/TC type of outliers automatically detected under a critical T-Stat value (defautl value=4)</p>
<p>calendar</p>
<ul>
<li><p>2 regresssors: weekdays vs week-ends + LY</p></li>
<li><p>7 regressors: each week day vs sunadys + LY</p></li>
<li><p>always tested</p></li>
<li><p>easter tested (length = 6 days in tramo, 8 days in X13 arima)</p></li>
</ul>
<p>arima model automatic detection</p>
<p>TEST : RSA0 : mult or add</p>
<p>TD vars include LY (link to calendar)</p>
<p>Strating point for Tramo-Seats</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 22%">
<col style="width: 21%">
<col style="width: 19%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th>Spec identifier</th>
<th>Log/level detection</th>
<th>Outliers detection</th>
<th>Calendar effects</th>
<th>ARIMA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RSA0</td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td><em>NA</em></td>
<td>Airline(+mean)</td>
</tr>
<tr class="even">
<td>RSA1</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td><em>NA</em></td>
<td>Airline(+mean)</td>
</tr>
<tr class="odd">
<td>RSA2</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>2 TD vars+Easter</td>
<td>Airline(+mean)</td>
</tr>
<tr class="even">
<td>RSA3</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td><em>NA</em></td>
<td>automatic</td>
</tr>
<tr class="odd">
<td>RSA5</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>6 TD vars+Easter</td>
<td>automatic</td>
</tr>
<tr class="even">
<td>RSAfull</td>
<td>automatic</td>
<td>AO/LS/TC</td>
<td>automatic</td>
<td>automatic</td>
</tr>
</tbody>
</table>
<p>Principle of user setting parameters: can be done from one of the default specs or any spec in “save” as mode very similar inGUI and R</p>
</section>
<section id="spans" class="level3">
<h3 class="anchored" data-anchor-id="spans">Spans</h3>
<section id="estimation-span" class="level4">
<h4 class="anchored" data-anchor-id="estimation-span">Estimation span</h4>
<p>principle + some differences between tramo and reg-arima</p>
<p>Specifies the span (data interval) of the time series to be used in the seasonal adjustment process (no computations outside) The user can restrcit the span</p>
<p>Table Common settings</p>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 90%">
</colgroup>
<thead>
<tr class="header">
<th>Option</th>
<th>Description (expected format)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>All</td>
<td>default</td>
</tr>
<tr class="even">
<td>From</td>
<td>first observation included (yyyy-mm-dd)</td>
</tr>
<tr class="odd">
<td>To</td>
<td>last observation included (yyyy-mm-dd)</td>
</tr>
<tr class="even">
<td>Between</td>
<td>interval [from ; to] inculded (yyyy-mm-dd to yyyy-mm-dd)</td>
</tr>
<tr class="odd">
<td>First</td>
<td>number of obs from the begining of the series included (dynamic) (integer)</td>
</tr>
<tr class="even">
<td>Last</td>
<td>number of obs from the end of the series (dynamic)(integer)</td>
</tr>
<tr class="odd">
<td>Excluding</td>
<td>excluding N first obs and P last obs from the computation,dynamic) (integer)</td>
</tr>
<tr class="even">
<td>Preliminary check</td>
<td>chek to exclude highly problematic series e.g.&nbsp;the series with a number of identical observations and/or missing values above pre-specified threshold values. (True/False)</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Setting in GUI image1: specification window and expanded nodes</p>
<p>Setting in R, part of modifying a specification (link)</p>
<div class="cell" data-eval="false">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RJDemetra)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># estimation interval: option with static dates</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>user_spec_1<span class="ot">&lt;-</span><span class="fu">x13_spec</span>(<span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSA5c"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2c"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4c"</span>, <span class="st">"X11"</span>), </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">preliminary.check =</span> <span class="cn">TRUE</span>, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.from =</span> <span class="st">"2012-06-01"</span>, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.to =</span> <span class="st">"2019-12-01"</span>) </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># estimation interval: option with dynamic numbers of observations</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># spec can be applied on different series and therefore exclude different dates</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>user_spec_2<span class="ot">&lt;-</span><span class="fu">x13_spec</span>(<span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSA5c"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2c"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4c"</span>, <span class="st">"X11"</span>), </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.first =</span> <span class="dv">12</span>) </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># eestimation on the last 120 obs</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>user_spec_3<span class="ot">&lt;-</span><span class="fu">x13_spec</span>(<span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSA5c"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2c"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4c"</span>, <span class="st">"X11"</span>), </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.last =</span> <span class="dv">120</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">#excluding first 24 and last 36 observations</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>user_spec_4<span class="ot">&lt;-</span><span class="fu">x13_spec</span>(<span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSA5c"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2c"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4c"</span>, <span class="st">"X11"</span>), </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.exclFirst =</span> <span class="dv">24</span>, </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.exclLast =</span> <span class="dv">36</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve settings</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For comprehensive details about x13_spec function see {RJDemetra} documentation for tramo seats : the same ..one example outlining differences</p>
<p>[V3(JDemetra+ V3) Example in X13]</p>
<p>Tramo-seats</p>
<p>(JD+ version 2) With RJDemetra, example in Tramo-Seats:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#excluding first 24 and last 36 observations</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>user_spec_1<span class="ot">&lt;-</span><span class="fu">tramoseats_spec</span>( <span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSAfull"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4"</span>, <span class="st">"RSA5"</span>),  </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.exclFirst =</span> <span class="dv">24</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.exclLast =</span> <span class="dv">36</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-span" class="level4">
<h4 class="anchored" data-anchor-id="model-span">Model span</h4>
<p>Principle: same as estimation span (link) above</p>
<p>Specifies the span (data interval) of the time series to be used for the estimation of the RegARIMA model coefficients. The RegARIMA model is then applied to the whole series. With this argument the data early in the series can be prevented from affecting the forecasts, or, alternatively, data later in the series are excluded from the modelling span, so that they do not influence the regression estimates. The available parameter values are</p>
<p>Additionnal parameters</p>
<p>Model span specific parameters</p>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<tbody>
<tr class="odd">
<td>Tolerance</td>
<td><p>Convergence tolerance for the nonlinear estimation.</p>
<p>The absolute changes in the log-likelihood are compared to Tolerance to check the convergence of the estimation iterations.</p>
<p>The default setting is 0.0000001.</p></td>
</tr>
<tr class="even">
<td>Tramo specifc parameters</td>
<td></td>
</tr>
<tr class="odd">
<td>Exact ML</td>
<td><p>When this option is marked, an exact maximum likelihood estimation is performed.</p>
<p>Alternatively, the Unconditional Least Squares method is used.</p>
<p>However, in the current version of JDemetra+ it is not recommended to change this parameter’s value</p></td>
</tr>
<tr class="even">
<td>Unit Root Limit</td>
<td><p>Limit for the autoregressive roots. If the inverse of a real root of the autoregressive polynomial of the</p>
<p>ARIMA model is higher than this limit, the root is set equal to 1. The default parameter value is 0.96.</p></td>
</tr>
</tbody>
</table>
<p>Retrieve in GUI:</p>
<p>image specification window and nodes</p>
<p>Retrieve in R: not possible (to confirm), estimation span and model span must be equal</p>
<p>so additional parameters for model span are set on the estimation span</p>
<p>Tramo seats exemple</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#excluding first 24 and last 36 observations</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>user_spec_1<span class="ot">&lt;-</span><span class="fu">tramoseats_spec</span>( <span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSAfull"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4"</span>, <span class="st">"RSA5"</span>),  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.tol =</span> <span class="fl">0.0000001</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.eml =</span> <span class="cn">FALSE</span>, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">estimate.urfinal =</span> <span class="fl">0.98</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>[V3 model span specif parameters]</p>
</section>
</section>
<section id="decomposition-scheme" class="level3">
<h3 class="anchored" data-anchor-id="decomposition-scheme">Decomposition Scheme</h3>
<p>Principle</p>
<p>ecriture add</p>
<p>ecriture multi</p>
<p>if multi : log</p>
<p>ecriture log</p>
<p>consequences on X11 decomp and seats decomp</p>
<p>Transformation test – a test is performed to choose between an additive decomposition (no transformation) (link to reg A chap to detail this)</p>
<p>Settings</p>
<p>Function</p>
<p>transform {function=}</p>
<p>Transformation of data. 2 The user can choose between:</p>
<p>None – no transformation of the data;</p>
<p>Log – takes logs of the data;</p>
<p>Auto – the program tests for the log-level specification. This option is recommended for automatic modelling of many series.</p>
<p>The default setting is Auto.</p>
<p>Reg-Arima specific settings</p>
<p>AIC difference</p>
<p>transform {aicdiff=}</p>
<p>Defines the difference in AICC needed to accept no transformation over a log transformation when the automatic transformation</p>
<pre><code>selection option is invoked. The option is disabled when Function is not set to Auto. The default AIC difference value is -2.</code></pre>
<p>Adjust</p>
<p>transform {adjust=}</p>
<p>Options for proportional adjustment for the leap year effect. The option is available when Function is set to Log. Adjust can be set to:</p>
<p>LeapYear – performs a leap year adjustment of monthly or quarterly data;</p>
<p>LengthofPeriod – performs a length-of-month adjustment on monthly data or length-of-quarter adjustment on quarterly data;</p>
<p>None – does not include a correction for the length of the period.</p>
<p>The default setting is None</p>
<p>Tramo specific settings</p>
<p><strong>Fct</strong><br>
<em>Transformation; fct</em></p>
<p>Controls the bias in the log/level pre-test (the function is active when <strong>Function</strong> is set to <em>Auto</em>); <strong>Fct</strong> &gt; 1 favours levels, <strong>Fct</strong> &lt; 1 favours logs. The default setting is 0.95.</p>
<p>Set and Retrieve in GUI</p>
<p>Image specification window + expanded nodes : RegA+ Tramo</p>
<p>Retrieve: in the specification window and panels for main (to detail ?)</p>
<p>Set and in R</p>
<p>X13</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#excluding first 24 and last 36 observations</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>user_spec <span class="ot">&lt;-</span><span class="fu">x13_spec</span>(<span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSA5c"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2c"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4c"</span>, <span class="st">"X11"</span>), </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="at">transform.function =</span><span class="st">"Log"</span>, <span class="co"># c(NA, "Auto", "None", "Log"),</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">transform.adjust =</span> <span class="st">"LeapYear"</span>, <span class="co">#c(NA, "None", "LeapYear", "LengthOfPeriod"),</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">transform.aicdiff =</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Retrieve settings</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tramo seats settings</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#transfo</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>user_spec_1<span class="ot">&lt;-</span><span class="fu">tramoseats_spec</span>( <span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSAfull"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4"</span>, <span class="st">"RSA5"</span>),  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="at">transform.function =</span> <span class="st">"Auto"</span>, <span class="co">#c(NA, "Auto", "None", "Log"), </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="at">transform.fct =</span> <span class="fl">0.5</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve settings  </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="calendar-correction" class="level3">
<h3 class="anchored" data-anchor-id="calendar-correction">Calendar correction</h3>
<p>Rationale : why correct (in a nutshell)</p>
<p>Method regression as deterministic effects, details of regressor building in calendar chapter <a href="./A-calendar-and-input.html#Overview of Calendar effects in JDemetra">building</a></p>
<section id="default-specifications-for-calendar-correction" class="level4">
<h4 class="anchored" data-anchor-id="default-specifications-for-calendar-correction">Default specifications for calendar correction</h4>
<p>Options related to calendar regressors choice are embedded into default specifications (link)</p>
<p>National calendars not taken into accout.</p>
<ul>
<li><p>working days</p></li>
<li><p>trading days</p></li>
<li><p>Leap year regressor</p></li>
<li><p>Test: Remove/ Add / None</p></li>
<li><p>Easter</p></li>
<li><p>Test add / remove / non</p></li>
<li><p>duration (enabled when testing removed)</p></li>
<li><p>Julian</p></li>
<li><p>pre-test</p></li>
</ul>
<section id="gui-setting-this-options-and-retrieveing-parameters-which-are-in-use" class="level5">
<h5 class="anchored" data-anchor-id="gui-setting-this-options-and-retrieveing-parameters-which-are-in-use">GUI: Setting this options and retrieveing parameters which are in use</h5>
</section>
<section id="r-setting-this-options-and-retrieveing-parameters-which-are-in-use" class="level5">
<h5 class="anchored" data-anchor-id="r-setting-this-options-and-retrieveing-parameters-which-are-in-use">R: Setting this options and retrieveing parameters which are in use</h5>
</section>
</section>
<section id="customizing-calendars" class="level4">
<h4 class="anchored" data-anchor-id="customizing-calendars">Customizing calendars</h4>
<p>How to correct this ?</p>
<p>solution 1: if working with GUI build a new calendar in GUI (building details in chap C) set this option import it : here</p>
<p>GUI : how to use it or customize HTML file structure explanation</p>
<p>Question: can rjd3modelling generate an HTML calendar for GUI</p>
<p>set this option in GUI</p>
<p>image: spec window calendar / holidays / choics of calendar</p>
<p>set this option in R ?</p>
<p>version 2:</p>
<p>version 3:</p>
<p>solution 2: import external regressors can be built with rjd3modelling (link) which can then be used in via are or imported via GUI</p>
<p>set this option in GUI how to import vaiables into JD+ / set utility (in interface chapter) calssical user defined</p>
<p>set this option in R version 2:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>spec_4 <span class="ot">&lt;-</span> <span class="fu">x13_spec</span>(<span class="at">spec =</span> spec_1, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">tradingdays.option =</span> <span class="st">"UserDefined"</span>, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">tradingdays.test =</span> <span class="st">"None"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.varEnabled =</span> <span class="cn">TRUE</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.varType =</span> <span class="st">"Calendar"</span>, </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.var =</span> reg3) <span class="co"># set of regressors in TS format</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>version 3</p>
<p>(generic sentence to quasi repeat at the end of each part) Once regressors set, the RegArima (tramo) model will be estimated gloablly with all the other regression variables and taking into account arima model specificities as well. That is why diagnostics are all jointly displayed at the end of the process. (link)</p>
<p>link to: worked example: french calendar in R</p>
</section>
</section>
<section id="outliers-and-intervention-variables" class="level3">
<h3 class="anchored" data-anchor-id="outliers-and-intervention-variables">Outliers and intervention variables</h3>
<p>quick intro: rational = improve decomposition (cf guidelines) (determinsitic= effects estimated by regression 2 ways - (customizable) automatic detection - user prespecifified outliers</p>
<section id="automatic-detection" class="level4">
<h4 class="anchored" data-anchor-id="automatic-detection">Automatic detection</h4>
<p>overview: one sentence</p>
<section id="what-can-be-set-list" class="level5">
<h5 class="anchored" data-anchor-id="what-can-be-set-list">what can be set (list)</h5>
<p>(what do we look for) : AO, LS, TC (detailed in outliers chapter link), how cf.&nbsp;RegArima method chapter types can be set and TC rate specified SO can be added to detection detection - detection enabled - detection span - types of outliers (+ rate for TC) - critical value (“method” = is an incative parameter, always add one)</p>
<p>all is identic for TRamo</p>
<section id="how-to-set-this-in-gui" class="level6">
<h6 class="anchored" data-anchor-id="how-to-set-this-in-gui">how to set this in GUI</h6>
<p>image specification window, outliers box commented</p>
</section>
</section>
<section id="how-ro-set-this-in-r" class="level5">
<h5 class="anchored" data-anchor-id="how-ro-set-this-in-r">how ro set this in R</h5>
<p>version 2: RJDEemetra</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># idem for x13 or tramo</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># spec_4 &lt;- x13_spec(spec = spec_1, </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># outlier.enabled = NA,</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.from = NA_character_,</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.to = NA_character_,</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.first = NA_integer_,</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.last = NA_integer_,</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.exclFirst = NA_integer_,</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.exclLast = NA_integer_,</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.ao = NA,</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.tc = NA,</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.ls = NA,</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.so = NA,</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.usedefcv = NA,</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.cv = NA_integer_,</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.method = c(NA, "AddOne", "AddAll"),</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   outlier.tcrate = NA_integer_,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(how to retrieve these settings? in regression results cf end) )</p>
</section>
</section>
<section id="pre-specified-outliers" class="level4">
<h4 class="anchored" data-anchor-id="pre-specified-outliers">Pre-specified Outliers</h4>
<p>the user can set outliers (in the past) will be complemented by automatic detection (unless disabled)</p>
<section id="in-gui" class="level5">
<h5 class="anchored" data-anchor-id="in-gui">in GUI</h5>
<p>image specif window open the calendar image of calendar</p>
</section>
<section id="how-to-set-this-in-r" class="level5">
<h5 class="anchored" data-anchor-id="how-to-set-this-in-r">how to set this in R</h5>
<p>version 2: RJDemetra</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># idem for x13 or tramo</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># spec_4 &lt;- x13_spec(spec = spec_1, </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="other-user-defined-regressors" class="level4">
<h4 class="anchored" data-anchor-id="other-user-defined-regressors">Other User-defined regressors</h4>
<p>rjd3modelling</p>
<p>some principles - allocate to a component - out of calendars and outliers warning: calendars won’t be allocated to calendars, if not…</p>
<section id="import-regressors-in-gui" class="level5">
<h5 class="anchored" data-anchor-id="import-regressors-in-gui">Import regressors in GUI</h5>
<ul>
<li>import</li>
<li>additionnal operations</li>
</ul>
</section>
<section id="import-regressors-r" class="level5">
<h5 class="anchored" data-anchor-id="import-regressors-r">Import regressors R</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>spec_5 <span class="ot">&lt;-</span> <span class="fu">x13_spec</span>(<span class="at">spec =</span> spec_1, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.varEnabled =</span> <span class="cn">TRUE</span>, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># On choisit d'attribuer l'outlier à la composante tendance</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.varType =</span> <span class="st">"Trend"</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                   <span class="co"># Les régresseurs doivent être au format ts</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">usrdef.var =</span> reg_externe_ts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="arima-model" class="level3">
<h3 class="anchored" data-anchor-id="arima-model">Arima Model</h3>
<p>Once regressors have been defined, the software looks for a structure of the autocorrelations of the lneariezd series</p>
<p>The arima model will be evaluated lookng at its residuals supposed to be a whiet noise</p>
<section id="default-specifications-1" class="level4">
<h4 class="anchored" data-anchor-id="default-specifications-1">Default specifications</h4>
<p>Key specifications on arima model are embedded in default specifications: airline (daufault model) or full automatic reserach.</p>
<p>automdl.enabled a logical. If TRUE, the automatic modelling of the ARIMA model is enabled. If FALSE, the parameters of the ARIMA model can be specified.</p>
<p>A word on restrictions; can some setting be mixed, ex user model and different u roots limits</p>
<p>Forecast horizon is in X-11..</p>
</section>
<section id="modifing-automatic-detection" class="level4">
<h4 class="anchored" data-anchor-id="modifing-automatic-detection">Modifing automatic detection</h4>
<p>Control variables for the automatic modelling of the ARIMA model (when automdl.enabled is set to TRUE):</p>
<p>automdl.acceptdefault<br>
a logical. If TRUE, the default model (ARIMA(0,1,1)(0,1,1)) may be chosen in the first step of the automatic model identification. If the Ljung-Box Q statistics for the residuals is acceptable, the default model is accepted and no further attempt will be made to identify another model.</p>
<p>automdl.cancel<br>
the cancelation limit (numeric). If the difference in moduli of an AR and an MA roots (when estimating ARIMA(1,0,1)(1,0,1) models in the second step of the automatic identification of the differencing orders) is smaller than the cancelation limit, the two roots are assumed equal and cancel out.</p>
<p>automdl.ub1 the first unit root limit (numeric). It is the threshold value for the initial unit root test in the automatic differencing procedure. When one of the roots in the estimation of the ARIMA(2,0,0)(1,0,0) plus mean model, performed in the first step of the automatic model identification procedure, is larger than the first unit root limit in modulus, it is set equal to unity.</p>
<p>automdl.ub2 the second unit root limit (numeric). When one of the roots in the estimation of the ARIMA(1,0,1)(1,0,1) plus mean model, which is performed in the second step of the automatic model identification procedure, is larger than second unit root limit in modulus, it is checked if there is a common factor in the corresponding AR and MA polynomials of the ARMA model that can be cancelled (see automdl.cancel). If there is no cancellation, the AR root is set equal to unity (i.e.&nbsp;the differencing order changes).</p>
<p>automdl.mixed<br>
a logical. This variable controls whether ARIMA models with non-seasonal AR and MA terms or seasonal AR and MA terms will be considered in the automatic model identification procedure. If FALSE, a model with AR and MA terms in both the seasonal and non-seasonal parts of the model can be acceptable, provided there are no AR or MA terms in either the seasonal or non-seasonal terms.</p>
<p>automdl.balanced<br>
a logical. If TRUE, the automatic model identification procedure will have a preference for balanced models (i.e.&nbsp;models for which the order of the combined AR and differencing operator is equal to the order of the combined MA operator).</p>
<p>automdl.armalimit<br>
the ARMA limit (numeric). It is the threshold value for t-statistics of ARMA coefficients and constant term used for the final test of model parsimony. If the highest order ARMA coefficient has a t-value smaller than this value in magnitude, the order of the model is reduced. If the constant term t-value is smaller than the ARMA limit in magnitude, it is removed from the set of regressors.</p>
<p>automdl.reducecv<br>
numeric, ReduceCV. The percentage by which the outlier’s critical value will be reduced when an identified model is found to have a Ljung-Box statistic with an unacceptable confidence coefficient. The parameter should be between 0 and 1, and will only be active when automatic outlier identification is enabled. The reduced critical value will be set to (1-ReduceCV)*CV, where CV is the original critical value.</p>
<p>automdl.ljungboxlimit<br>
the Ljung Box limit (numeric). Acceptance criterion for the confidence intervals of the Ljung-Box Q statistic. If the LjungBox Q statistics for the residuals of a final model is greater than the Ljung Box limit, then the model is rejected, the outlier critical value is reduced and model and outlier identification (if specified) is redone with a reduced value.</p>
<p>automdl.ubfinal numeric, final unit root limit. The threshold value for the final unit root test. If the magnitude of an AR root for the final model is smaller than the final unit root limit, then a unit root is assumed, the order of the AR polynomial is reduced by one and the appropriate order of the differencing (non-seasonal, seasonal) is increased. The parameter value should be greater than one.</p>
<p>setting in GUI</p>
<p>image specification window, arima with auto box ticked</p>
<p>setting in R (see if Tramo specificities)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># spec_5 &lt;- x13_spec(spec = spec_1, </span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># automdl.enabled = NA,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.acceptdefault = NA,</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.cancel = NA_integer_,</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.ub1 = NA_integer_,</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.ub2 = NA_integer_,</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.mixed = NA,</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.balanced = NA,</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.armalimit = NA_integer_,</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.reducecv = NA_integer_,</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.ljungboxlimit = NA_integer_,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   automdl.ubfinal = NA_integer_,</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="user-defined-arima-model" class="level4">
<h4 class="anchored" data-anchor-id="user-defined-arima-model">User-defined Arima model</h4>
<p>Control variables for the non-automatic modelling of the ARIMA model (when automdl.enabled is set to FALSE):</p>
<p>arima.mu<br>
logical. If TRUE, the mean is considered as part of the ARIMA model.</p>
<p>arima.p numeric. The order of the non-seasonal autoregressive (AR) polynomial.</p>
<p>arima.d numeric. The regular differencing order.</p>
<p>arima.q numeric. The order of the non-seasonal moving average (MA) polynomial.</p>
<p>arima.bp<br>
numeric. The order of the seasonal autoregressive (AR) polynomial.</p>
<p>arima.bd<br>
numeric. The seasonal differencing order.</p>
<p>arima.bq<br>
numeric. The order of the seasonal moving average (MA) polynomial.</p>
<p>Control variables for the user-defined ARMA coefficients. Coefficients can be defined for the regular and seasonal autoregressive (AR) polynomials and moving average (MA) polynomials. The model considers the coefficients only if the procedure for their estimation (arima.coefType) is provided, and the number of provided coefficients matches the sum of (regular and seasonal) AR and MA orders (p,q,bp,bq).</p>
<p>arima.coefEnabled<br>
logical. If TRUE, the program uses the user-defined ARMA coefficients.</p>
<p>arima.coef<br>
a vector providing the coefficients for the regular and seasonal AR and MA polynominals. The vector length must be equal to the sum of the regular and seasonal AR and MA orders. The coefficients shall be provided in the following order: regular AR (Phi; p elements), regular MA (Theta; q elements), seasonal AR (BPhi; bp elements) and seasonal MA (BTheta; bq elements). E.g.: arima.coef=c(0.6,0.7) with arima.p=1, arima.q=0,arima.bp=1 and arima.bq=0.</p>
<p>arima.coefType<br>
a vector defining the ARMA coefficients estimation procedure. Possible procedures are: “Undefined” = no use of any user-defined input (i.e.&nbsp;coefficients are estimated), “Fixed” = the coefficients are fixed at the value provided by the user, “Initial” = the value defined by the user is used as the initial condition. For orders for which the coefficients shall not be defined, the arima.coef can be set to NA or 0, or the arima.coefType can be set to “Undefined”. E.g.: arima.coef = c(-0.8,-0.6,NA), arima.coefType = c(“Fixed”,“Fixed”,“Undefined”).</p>
<p>(for both options) fcst.horizon<br>
the forecasting horizon (numeric). The forecast length generated by the RegARIMA model in periods (positive values) or years (negative values). By default, the program generates a two-year forecast (fcst.horizon set to -2).</p>
<p>setting in GUI</p>
<p>image specification window, arima with auto box not tickec</p>
<p>setting in R (see if Tramo specificities)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>spec_5 <span class="ot">&lt;-</span> <span class="fu">x13_spec</span>(<span class="at">spec =</span> spec_1, </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="at">automdl.enabled =</span> <span class="cn">FALSE</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.mu =</span> <span class="cn">NA</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.p =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.d =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.q =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.bp =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.bd =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.bq =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.coefEnabled =</span> <span class="cn">NA</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.coef =</span> <span class="cn">NA</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">arima.coefType =</span> <span class="cn">NA</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">fcst.horizon =</span> <span class="cn">NA_integer_</span>,</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tramo and Reg-Arima are very similar…details in M chapter, parameters and output are the same, treated as one here</p>
<p>Context : here in put is spcified (auto or user) focus on global model estimation</p>
<p>Quick launch (= automatic run)</p>
<p>Output1: series (if relevant) Retrieve regressors GUI (cruncher) R</p>
<p>Retrieve Pre-adjustment series Table</p>
<p>in GUI (cruncher)</p>
<p>in R</p>
<p>Output2: Final Params what is selected and estimated by the software (not in the specifs above)</p>
<p>arima orders (if relevant) and coefficients</p>
<p>GUI</p>
<p>R</p>
</section>
</section>
<section id="regarima-model-results-and-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="regarima-model-results-and-diagnostics">RegArima model Results and Diagnostics</h3>
<section id="regression-results-and-diagnostics" class="level4">
<h4 class="anchored" data-anchor-id="regression-results-and-diagnostics">Regression Results and diagnostics</h4>
<p>tables with results for all variables (auto and user-defined) student, F test - tests</p>
</section>
<section id="arima-model-results" class="level4">
<h4 class="anchored" data-anchor-id="arima-model-results">Arima model results</h4>
<section id="final-parameters" class="level5">
<h5 class="anchored" data-anchor-id="final-parameters">Final parameters</h5>
<p>table with coefficients, student, correlation</p>
<p>in GUI additonnal graphs</p>
<p>in R</p>
<div class="cell">

</div>
</section>
<section id="goodness-of-fit-test-on-arima-model-residuals" class="level5">
<h5 class="anchored" data-anchor-id="goodness-of-fit-test-on-arima-model-residuals">Goodness of fit Test on Arima model residuals</h5>
<p>list</p>
<p>retrieve in GUI - main - prep proc main node datails peut etre pas de capture pour tout: pb de volume la lacture des chapitres doit rester fluide appndix, gui chapter ? - diagnostics node here just residuals and full residuals (what is the difference)</p>
<p>(global post decomp results explained in QA part)</p>
<p>retireve in R v2 rjdemetra (comprehensive inR )</p>
</section>
</section>
<section id="residual-calendar-effects" class="level4">
<h4 class="anchored" data-anchor-id="residual-calendar-effects">Residual Calendar effects</h4>
<p>Residual calendar effects what kinf of test is performed ? td spectral peaks residual effect in <span class="math inline">\(SA\)</span> or <span class="math inline">\(I\)</span> serie</p>
<p>retrieve in GUI</p>
<p>retrieve in R (v2 and v3)</p>
</section>
</section>
<section id="allocation-of-pre-treatment-effects" class="level3">
<h3 class="anchored" data-anchor-id="allocation-of-pre-treatment-effects">Allocation of pre-treatment effects</h3>
<p>(in the decomp part for x11 and seats, table with allocation post decomp)</p>
</section>
</section>
<section id="x-11-decompostion" class="level2">
<h2 class="anchored" data-anchor-id="x-11-decompostion">X-11 Decompostion</h2>
<p>this part should allow to use x-11 via R as well as via GUI</p>
<section id="default-specifications-2" class="level3">
<h3 class="anchored" data-anchor-id="default-specifications-2">Default specifications</h3>
<p>link to table from reg-arima model</p>
<p>if identifiers slightly different in GUI, make it clear + pb of names in V3</p>
<p>in calendar effects : what is tested, link to calendar chapter</p>
<p>typos : RJDemetra doc (pull req)</p>
<ul>
<li>7 TD vars</li>
</ul>
</section>
<section id="quick-launch" class="level3">
<h3 class="anchored" data-anchor-id="quick-launch">Quick Launch</h3>
<p>(linked from intro JDemetra+ intro chapter )</p>
</section>
<section id="output-1-series" class="level3">
<h3 class="anchored" data-anchor-id="output-1-series">Output 1: series</h3>
<table class="table">
<colgroup>
<col style="width: 27%">
<col style="width: 16%">
<col style="width: 15%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Series</th>
<th>Final X11 name</th>
<th>Final Results</th>
<th>Reallocation of pre-adjustment effects</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Raw series (forecasts)</td>
<td></td>
<td>y (y_f)</td>
<td></td>
</tr>
<tr class="even">
<td>Final seasonal component</td>
<td>D16</td>
<td>s (s_f)</td>
<td></td>
</tr>
<tr class="odd">
<td>Final trend</td>
<td>D12</td>
<td>t (t_f)</td>
<td></td>
</tr>
<tr class="even">
<td>Final irregular</td>
<td>D13</td>
<td>i (i_f)</td>
<td></td>
</tr>
<tr class="odd">
<td>Calendar component</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Seasonal without calendar</td>
<td>D10</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>make clear reallocation of outliers effects (frequent questions)</p>
<p>reallocation of intervention variables effects</p>
<p>att : diff D10 and D16 ?</p>
<p>X-11 gives access to a great part of it’s intermediate computations (link to M chapter)</p>
<p>Here we focus on the final components main series (= 2nd part of D tables, outliers effects added)</p>
<p>List of series (edit : table with name and meaning)</p>
<p>Retrieve in GUI (forecasts glued)</p>
<p>link to chap GUI : generate output in GUI (generic) link to chap cruncher : generate output with cruncher</p>
<p>Retrieve in R (forecast in a specific variable)</p>
<p>Link to appendix: final output overview</p>
</section>
<section id="output-2-final-parameters" class="level3">
<h3 class="anchored" data-anchor-id="output-2-final-parameters">Output 2: final parameters</h3>
<p>Relevant if parameters not set manually, or any parameters automatically selected by the software without having a fixed default value. (The rest of the parameters is set in the spec) To manually set hose parameters and see all the fixed default values see Specifications / parameters section</p>
<p>Final trend filter : length of Henderson filter applied for final estimation (in the second part of the D step).</p>
<p>Final seasonal filer: length of Henderson filter applied for final estimation (in the second part of the D step).</p>
<p>Retrieve via GUI image ? Node Decomposition(X11) &gt; Final Filters (make node clickable, link to GUI chapter, handling of nodes)</p>
<p>Retrieve in R From the model_sa object (link to R package chap global explanation)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>model_sa<span class="sc">$</span>decomposition<span class="sc">$</span>s_filter</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>model_sa<span class="sc">$</span>decomposition<span class="sc">$</span>t_filter</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># add version 3 equivalent</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="output-3-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="output-3-diagnostics">Output 3: diagnostics</h3>
<p>X11 produces the following type diagnostics or quality measures Table with link to detail - SI ratios</p>
<section id="si-ratios" class="level4">
<h4 class="anchored" data-anchor-id="si-ratios">SI-ratios</h4>
<p>It is a plot (paste example)</p>
<p>Description, and computation details</p>
<p>Retrieve in GUI NODE Main Results &gt; SI-Ratios</p>
<p>in GUI values cannot be retrieved Retrieve in R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data frame with values </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>model_sa<span class="sc">$</span>decomposition<span class="sc">$</span>si_ratio</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># customizable plot</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model_sa, <span class="at">type=</span> <span class="st">"cal-seas-irr"</span>,<span class="at">first_date =</span> <span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">1</span>))</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># add version 3 equivalent</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="m-statistics" class="level4">
<h4 class="anchored" data-anchor-id="m-statistics">M-statistics</h4>
<p>At the end of the decomposition, X-11 algorithm provides quality mesures of the decomposition called “M statistics”: 11 statistics (M1 to M11) and 2 summary indicators (Q et Q-M2). By design (clickable) <span class="math inline">\(0&lt;M_x&lt;3\)</span> and acceptance region is <span class="math inline">\(M_x \leq 1\)</span> Formula for <span class="math inline">\(Q\)</span> (They are based on F-tables)</p>
<ul>
<li><strong>M1</strong> The relative contribution of the irregular over three months span</li>
<li><strong>M2</strong> The relative contribution of the irregular component to the stationary portion of the variance</li>
<li><strong>M3</strong> The amount of month to month change in the irregular component as compared to the amount of month to month change in the trend-cycle (I/C-ratio)</li>
<li><strong>M5</strong> MCD (Months for Cyclical Dominance): The number of months it takes the change in the trend-cycle to surpass the amount of change in the irregular</li>
<li><strong>M6</strong> The amount of year to year change in the irregular as compared to the amount of year to year change in the seasonal (only valid for 3x5 seasonal filter)</li>
<li><strong>M7</strong> The amount of moving seasonality present relative to the amount of stable seasonality</li>
<li><strong>M8</strong> The size of the fluctuations in the seasonal component throughout the whole series</li>
<li><strong>M9</strong> The average linear movement in the seasonal component throughout the whole series</li>
<li><strong>M10</strong> Same as 8, calculated for recent years only (4 years, N-2 to N-5)</li>
<li><strong>M11</strong> Same as 9, calculated for recent years only</li>
</ul>
<p>For futher details link to Lothian-Mory (quid in M_meth X11)</p>
<p>Retrieve in GUI NODE Decompostion(X-11) &gt; Quality Measures &gt; Summary</p>
<p>Retrieve in R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>model_sa<span class="sc">$</span>decomposition<span class="sc">$</span>mstats</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># add version 3 equivalent</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="detailed-quality-measures" class="level4">
<h4 class="anchored" data-anchor-id="detailed-quality-measures">Detailed Quality measures</h4>
<p>List (+ link to chap M: add descp from Lothian Mory/ current doc) make clear: on whic x11 series is the measure based</p>
<p>in GUI all the diagnostics below can be retrieved in NODE Decomposition(X-11) &gt; Quality Measures &gt; Details</p>
<p>If a stat can be retrievedin R, the code example is in the corresponding paragraph, otherwise it is not possible</p>
<section id="average-differences-without-regard-to-sign-over-the-indicated-span" class="level5">
<h5 class="anchored" data-anchor-id="average-differences-without-regard-to-sign-over-the-indicated-span">Average differences without regard to sign over the indicated span</h5>
</section>
<section id="relative-contribution-to-the-variance-of-the-differences-in-the-components-of-the-original-series" class="level5">
<h5 class="anchored" data-anchor-id="relative-contribution-to-the-variance-of-the-differences-in-the-components-of-the-original-series">Relative contribution to the variance of the differences in the components of the original series</h5>
</section>
<section id="average-differences-with-regard-to-sign-and-standard-deviation-over-indicated-span" class="level5">
<h5 class="anchored" data-anchor-id="average-differences-with-regard-to-sign-and-standard-deviation-over-indicated-span">Average differences with regard to sign and standard deviation over indicated span</h5>
</section>
<section id="average-duration-of-run" class="level5">
<h5 class="anchored" data-anchor-id="average-duration-of-run">Average duration of run</h5>
</section>
<section id="ic-ratio-over-indicated-span" class="level5">
<h5 class="anchored" data-anchor-id="ic-ratio-over-indicated-span">I/C ratio over indicated span</h5>
</section>
<section id="ic-ratio-global" class="level5">
<h5 class="anchored" data-anchor-id="ic-ratio-global">I/C ratio (global)</h5>
</section>
<section id="relative-contribution-to-the-stationnary-part-of-the-variance-in-the-original-series" class="level5">
<h5 class="anchored" data-anchor-id="relative-contribution-to-the-stationnary-part-of-the-variance-in-the-original-series">Relative contribution to the stationnary part of the variance in the original series</h5>
</section>
<section id="autocorrelations-in-the-irregular" class="level5">
<h5 class="anchored" data-anchor-id="autocorrelations-in-the-irregular">Autocorrelations in the irregular</h5>
</section>
<section id="heteroskedasticity" class="level5">
<h5 class="anchored" data-anchor-id="heteroskedasticity">Heteroskedasticity</h5>
<p>Cochran test on equal variances within each period</p>
</section>
<section id="moving-seasonality-ratios-msr" class="level5">
<h5 class="anchored" data-anchor-id="moving-seasonality-ratios-msr">Moving seasonality ratios (MSR)</h5>
</section>
</section>
</section>
<section id="user-defined-parameters" class="level3">
<h3 class="anchored" data-anchor-id="user-defined-parameters">User-defined parameters</h3>
<p>Here is described how to change default values or automatic choices.</p>
<section id="general-settings" class="level5">
<h5 class="anchored" data-anchor-id="general-settings">General settings</h5>
<ul>
<li><strong>Mode</strong>
<ul>
<li>check if this option still works, if so add and edit instructions from old page)</li>
<li>if not but button present : explain that the mode is determined in pre-adjustment (function)</li>
</ul></li>
<li><strong>Seasonal component</strong>
<ul>
<li>check if still relevant, idem as above</li>
<li>in v.2.3 if not ticked, S estimated but options on seasonal filter not available</li>
</ul></li>
<li><strong>Forecasts horizon</strong></li>
</ul>
<p>Length of the forecasts generated by the RegARIMA model - in months (positive values) - years (negative values) - if set to is set to 0, the X-11 procedure does not use any model-based forecasts but the original X-11 type forecasts for one year. - default value: -1, thus one year from the Arima model</p>
<ul>
<li><strong>Backcasts horizon</strong></li>
</ul>
<p>Length of the backcasts generated by the RegARIMA model - in months (positive values) - years (negative values) - default value: 0</p>
</section>
<section id="irregular-correction" class="level5">
<h5 class="anchored" data-anchor-id="irregular-correction">Irregular correction</h5>
<ul>
<li><p><strong>LSigma</strong></p>
<ul>
<li>sets lower sigma (standard deviation) limit used to down-weight the extreme irregular values in the internal seasonal adjustment iterations, learn more here (LINK to M_ chapter)</li>
<li>values in <span class="math inline">\([0,Usigma]\)</span></li>
<li>default value is 1.5</li>
</ul></li>
<li><p><strong>USigma</strong></p>
<ul>
<li>sets upper sigma (standard deviation)</li>
<li>values in <span class="math inline">\([Lsigma,+\infty]\)</span></li>
<li>default value is 2.5</li>
</ul></li>
<li><p><strong>Calendarsigma</strong></p>
<ul>
<li>allows to set different <strong>LSigma</strong> and <strong>USigma</strong> for each period</li>
<li>values
<ul>
<li>None (default)</li>
<li>All: standard errors used for the extreme values detection and adjustment computed separately for each calendar month/quarter</li>
<li>Signif: groups determined by cochran test (check)</li>
<li>Sigmavec: set two customized groups of periods</li>
</ul></li>
</ul></li>
<li><p><strong>Excludeforecasts</strong></p>
<ul>
<li>ticked : forecasts and backcasts from the RegARIMA model not used in Irregular Correction</li>
<li>unticked (default): forecasts and backcasts used</li>
</ul></li>
</ul>
</section>
<section id="seasonality-extraction-filters-choice" class="level5">
<h5 class="anchored" data-anchor-id="seasonality-extraction-filters-choice">Seasonality extraction filters choice</h5>
<p>Specifies which be used to estimate the seasonal factors for the entire series (link to relevant part in M chapter):</p>
<ul>
<li><p><strong>Seasonal filter</strong></p></li>
<li><p>default value: <em>MSR</em> (Moving seasonality ratio), automatic choice of final seasonal filter (cf msr defintion and decison table: link ), initial filters are computed with <span class="math inline">\(3\times 3\)</span></p></li>
<li><p>choices : <span class="math inline">\(3\times 1\)</span>, <span class="math inline">\(3\times 3\)</span>, <span class="math inline">\(3\times 5\)</span>, <span class="math inline">\(3\times 9\)</span>, <span class="math inline">\(3\times 15\)</span> or Stable</p></li>
<li><p>“Stable” : constat factor for each calendar period (simple moving average of all <span class="math inline">\(S+I\)</span> values for each period)</p></li>
</ul>
<p>User choices will be applied to all steps or only to final phase D step.</p>
<p>The seasonal filters can be selected for the entire series, or for a particular month or quarter.</p>
<ul>
<li><strong>Details on seasonal filters</strong></li>
</ul>
<p>Sets different seasonal filters by period in order to account for seasonal heteroskedasticity (link to M chapter)</p>
<ul>
<li>default value: empty</li>
</ul>
</section>
<section id="trend-estimation-filters" class="level5">
<h5 class="anchored" data-anchor-id="trend-estimation-filters">Trend estimation filters</h5>
<ul>
<li><p><strong>Automatic Henderson filter</strong> our user-defined</p>
<ul>
<li>default: length 13</li>
<li>unticked: user defined length choice</li>
</ul></li>
<li><p><strong>Henderson filter</strong> length choice</p>
<ul>
<li>values: odd number in <span class="math inline">\([3,101]\)</span></li>
<li>default value: 13</li>
</ul></li>
</ul>
<p>Check: will user choice be applied to all steps or only to final phase D step</p>
</section>
<section id="parameter-setting-in-gui" class="level4">
<h4 class="anchored" data-anchor-id="parameter-setting-in-gui">Parameter setting in GUI</h4>
<p>Specification (general or particular to one series) image</p>
<p>All the parameters above can be set with the specification (link to general explanations) box</p>
</section>
<section id="parameter-setting-in-r-packages" class="level4">
<h4 class="anchored" data-anchor-id="parameter-setting-in-r-packages">Parameter setting in R packages</h4>
<p>extensive help on functions available in package help pages Rcode snippets</p>
<p>In R, to implement any param change, it is required to retrieve current spec, modify it and apply it again (see T R packages chapter for details). (specific link)</p>
<p>here example changing all the settings (just remove irrelevant changes)</p>
<p>Rjdemetra (v2) Edit : here static R code link to a “worked example” wih dynamic code ticked box in GUI corresponds to …? in R</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating a modified specification, customizing all available X11 parameters</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>modified_spec<span class="ot">&lt;-</span> <span class="fu">x13_spec</span>(current_sa_model,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">#x11.mode="?",</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#x11.seasonalComp = "?",</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.fcasts =</span> <span class="sc">-</span><span class="dv">2</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.bcasts =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.lsigma =</span> <span class="fl">1.2</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.usigma =</span> <span class="fl">2.8</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.calendarSigma =</span> <span class="cn">NA</span>, <span class="co"># EDIT with example</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">x11.sigmaVector =</span> <span class="cn">NA</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.excludeFcasts =</span> <span class="cn">NA</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filters </span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.trendAuto =</span> <span class="cn">NA</span>, <span class="co"># needed inf value ?</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.trendma =</span> <span class="dv">23</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x11.seasonalma =</span> <span class="st">"S3X9</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="st">    # details on seasonal filters ?)</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="st">#New SA estimation : apply modified_spec</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="st">modified_sa_model&lt;-x13(raw_series,modified_spec)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>EDIT : link to package help page v2 +v3</p>
</section>
</section>
</section>
<section id="seats-decomposition" class="level2">
<h2 class="anchored" data-anchor-id="seats-decomposition">SEATS Decomposition</h2>
<p>policy: what is readable in GUI should be explained (even if shortly with link to details here) intermediate series ?</p>
<p>decomp of lineraized series in level or log</p>
<section id="default-specifications-3" class="level3">
<h3 class="anchored" data-anchor-id="default-specifications-3">Default specifications</h3>
<p>link to Tramo-Seats part</p>
<p>if identifiers slightly different in GUI, make it clear + pb of names in V3</p>
<p>in calendar effects : what is tested, link to calendar chapter</p>
<p>typos : RJDemetra doc (pull req)</p>
<ul>
<li>7 TD vars</li>
</ul>
</section>
<section id="quick-launch-1" class="level3">
<h3 class="anchored" data-anchor-id="quick-launch-1">Quick Launch</h3>
<p>overall procedure</p>
<p>in GUI</p>
<p>in R</p>
</section>
<section id="output-1-series-1" class="level3">
<h3 class="anchored" data-anchor-id="output-1-series-1">Output 1: series</h3>
<p>global indications: _f: forecasts - _e - -ef</p>
<section id="stochastic-series" class="level4">
<h4 class="anchored" data-anchor-id="stochastic-series">Stochastic series</h4>
<p>decompostion of the linearisezed series or of its log if multiplicative model</p>
<p>components: t_lin, s_lin, i_lin</p>
<p>if log, everything is dispalayed in log</p>
<table class="table">
<thead>
<tr class="header">
<th>Series Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>decomposition.y_lin</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.y_lin_f</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.y_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_ef</td>
<td></td>
</tr>
</tbody>
</table>
<p>Retrieve in GUI</p>
<p>NODE : Decompostion &gt; Stocastic series</p>
<p>forecast f series are pasted at the end of the correspoding series</p>
<ul>
<li>_e series are labelled with (stde)</li>
</ul>
<p>_ef appear in graphs (but values cannot be retrieved)</p>
<p>IMAGE1 GUI</p>
<ul>
<li><p>image 1 : decompostion node and series</p></li>
<li><p>image 2 trend graph</p></li>
<li><p>image 3 seasonal graph</p></li>
</ul>
<p>Retrieve in R</p>
</section>
<section id="components-level" class="level4">
<h4 class="anchored" data-anchor-id="components-level">Components (Level)</h4>
<p>if additive model : same as</p>
<p>decompostion of the linearisezed series or of its log if multiplicative model</p>
<p>components: t_lin, s_lin, i_lin</p>
<p>if log, everything is dispalayed in log</p>
<table class="table">
<thead>
<tr class="header">
<th>Series Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>decomposition.y_lin</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.y_lin_f</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.y_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_ef</td>
<td></td>
</tr>
</tbody>
</table>
<p>Retrieve in GUI</p>
<p>NODE : Decompostion &gt; Stocastic series</p>
<p>forecast f series are pasted at the end of the correspoding series</p>
<ul>
<li>_e series are labelled with (stde)</li>
</ul>
<p>_ef appear in graphs (but values cannot be retrieved)</p>
<p>IMAGE1 GUI</p>
<ul>
<li><p>image 1 : decompostion node and series</p></li>
<li><p>image 2 trend graph</p></li>
<li><p>image 3 seasonal graph</p></li>
</ul>
<p>Retrieve in R</p>
<p>Biais correction voir JP (done between lin and and comp ?)</p>
</section>
<section id="final-series" class="level4">
<h4 class="anchored" data-anchor-id="final-series">Final series</h4>
<p>decompostion of the linearisezed series or of its log if multiplicative model</p>
<p>components: t_lin, s_lin, i_lin</p>
<p>if log, everything is dispalayed in log</p>
<table class="table">
<thead>
<tr class="header">
<th>Series Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>decomposition.y_lin</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.y_lin_f</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.y_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.t_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.t_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.sa_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.sa_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.s_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.s_lin_ef</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_f</td>
<td></td>
</tr>
<tr class="even">
<td>decomposition.i_lin_e</td>
<td></td>
</tr>
<tr class="odd">
<td>decomposition.i_lin_ef</td>
<td></td>
</tr>
</tbody>
</table>
<p>Retrieve in GUI</p>
<p>NODE : Decompostion &gt; Stocastic series</p>
<p>forecast f series are pasted at the end of the corresponding series</p>
<ul>
<li>_e series are labelled with (stde)</li>
</ul>
<p>_ef appear in graphs (but values cannot be retrieved)</p>
<p>IMAGE1 GUI</p>
<ul>
<li><p>image 1 : decompostion node and series</p></li>
<li><p>image 2 trend graph</p></li>
<li><p>image 3 seasonal graph</p></li>
</ul>
<p>Retrieve in R</p>
<p>make clear reallocation of outliers effects (frequent questions)</p>
<p>Table</p>
<p>GUI</p>
<p>R</p>
</section>
</section>
<section id="output2-final-params" class="level3">
<h3 class="anchored" data-anchor-id="output2-final-params">Output2: Final Params</h3>
<p>what is chosen automatically or default (cf estp) Relevant if parameters not set manually, or any parameters automatically selected by the software without having a fixed default value. (The rest of the parameters is set in the spec) To manually set hose parameters and see all the fixed default values see Specifications / parameters section</p>
<p>here all have a default value, nothing to be automatically selected</p>
</section>
<section id="output3-diagnostics" class="level3">
<h3 class="anchored" data-anchor-id="output3-diagnostics">Output3: Diagnostics</h3>
<p>SEATS (model based) specific diagnostics check GUI (more plots, values) vs R links to methods chapter, here just be able to “read” (knowledge assumed) (here direct base on gui plots, and the add what can be retrieved in R, if cannot be retrieved in R : could it be rebuild from available elements) Obj : simple description res : current doc, jpslides, doc esp, Q JP</p>
<ul>
<li>WK analysis</li>
</ul>
<p>components final estimators</p>
<ul>
<li><p>Error analysis autocorrelation of the errors (sa, trend) revisons of the errors</p></li>
<li><p>Growth rates</p></li>
<li><p>Model based tests</p></li>
<li><p>Significant seasonality</p></li>
<li><p>Stationnary variance decompostion</p></li>
</ul>
</section>
<section id="fine-tuning-user-defined-parameters" class="level3">
<h3 class="anchored" data-anchor-id="fine-tuning-user-defined-parameters">Fine-tuning : user defined parameters</h3>
<ul>
<li>Prediction length</li>
</ul>
<p>Forecast span used in the decomposition default: one year (-1) (years are set in negative values, positive values indicate nimber of periods)</p>
<ul>
<li>Approximation Mode</li>
</ul>
<p>Modification type for inadmissible models None (default) Legacy Noisy</p>
<ul>
<li>MA unit root boundary</li>
</ul>
<p>Modulus threshold for resetteing MA “near-unit” roots [0,1] default (0.95)</p>
<ul>
<li><p>Trend Boundary Modulus thershold for assingning positive real AR Roots [0,1] default (0.5)</p></li>
<li><p>Seasonal Tolerance Degree threshold for assigning complex AR roots [0,10] default (2)</p></li>
<li><p>Seasonal Boundary (unique) Modulus threshold for assigning negative real AR roots [0,1] default (0.8)</p></li>
<li><p>Seasonal Boundary (unique) Same modulus threshold unique seasonal AR roots [0,1] default (0.8)</p></li>
<li><p>Method</p></li>
</ul>
<p>Algorithm used for estimation of unobserved componements</p>
<p>Burman (default)</p>
<p>KalmanSmoother</p>
<p>McEllroyMatrix</p>
<p>Further explanation (cf slides JP)</p>
<p>link to M chapter for details on root allocation</p>
<section id="set-in-gui" class="level5">
<h5 class="anchored" data-anchor-id="set-in-gui">Set in GUI</h5>
<p>In specification window (link to GUI global exp)</p>
<p>IMAGE</p>
</section>
<section id="set-in-r" class="level5">
<h5 class="anchored" data-anchor-id="set-in-r">Set in R</h5>
<p>version 2 (RJDemetra)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tramoseats_spec</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a> <span class="at">spec =</span> <span class="fu">c</span>(<span class="st">"RSAfull"</span>, <span class="st">"RSA0"</span>, <span class="st">"RSA1"</span>, <span class="st">"RSA2"</span>, <span class="st">"RSA3"</span>, <span class="st">"RSA4"</span>, <span class="st">"RSA5"</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fcst.horizon =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.predictionLength =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.approx =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"None"</span>, <span class="st">"Legacy"</span>, <span class="st">"Noisy"</span>),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.trendBoundary =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.seasdBoundary =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.seasdBoundary1 =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.seasTol =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.maBoundary =</span> <span class="cn">NA_integer_</span>,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">seats.method =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">"Burman"</span>, <span class="st">"KalmanSmoother"</span>, <span class="st">"McElroyMatrix"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>in version 3 with {rjd3tramoseats}</p>
</section>
</section>
</section>
<section id="quality-assessment-for-x13-arima-and-tramo-seats" class="level2">
<h2 class="anchored" data-anchor-id="quality-assessment-for-x13-arima-and-tramo-seats">Quality assessment for X13-Arima and Tramo-Seats</h2>
<p>(add at begininng of chapter ? X13 an d TS as historical and more popular, ghave more built-in available features, like predifined quality assessment)</p>
<p>(all GUI based analysis) NODES below bechmarking</p>
<section id="matrix" class="level3">
<h3 class="anchored" data-anchor-id="matrix">Matrix</h3>
<p>comparaing all predefined specs available only in a formatted state in GUI (in R has to be generated by the user</p>
</section>
<section id="residual-seasonality" class="level3">
<h3 class="anchored" data-anchor-id="residual-seasonality">Residual seasonality</h3>
<p>list (chat is available)</p>
<p>visu in GUI (can be larger than what is pre-defined in R)</p>
</section>
<section id="residual-calendar-effects-1" class="level3">
<h3 class="anchored" data-anchor-id="residual-calendar-effects-1">Residual calendar effects</h3>
</section>
<section id="add-other-diagnostics-node" class="level3">
<h3 class="anchored" data-anchor-id="add-other-diagnostics-node">Add other diagnostics node</h3>
</section>
</section>
<section id="stl" class="level2">
<h2 class="anchored" data-anchor-id="stl">STL</h2>
<p>use on linearized data data, no pre-adjustment (2nd layer)</p>
</section>
<section id="ssf" class="level2">
<h2 class="anchored" data-anchor-id="ssf">SSF</h2>
<p>(2nd layer)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./P_Algorithms.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Algorithms</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./A-sa-hf.html" class="pagination-link">
        <span class="nav-page-text">Seasonal adjustment of high-frequency data</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>