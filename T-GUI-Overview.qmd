# Graphical User Interface Overview {.unnumbered}

## In this chapter

This chapter provides general information about using the graphical interface (GUI). Specific indications related to a given algorithm (X13-Arima, Tramo-seats, Benchmarking...) are displayed in the relevant chapters.

Contents

- installation and launch 
- general window and menu structure 
- importing data



### Available algorithms

The graphical user interface in the 2.x family gives access to:

-   Seasonal adjustment [(SA) algorithms](A-sa.qmd)

    -   X13-Arima
    -   Tramo-Seats
    -   Direct-indirect SA comparisons

-   Outlier detection (TERROR)

-   Benchmarking

The graphical user interface in the 3.x family gives access **in addition** to extended SA algorithms for [high-frequency data (HF)](A-sa-hf.qmd).

### Available Time Series tools

The graphical user interface in the 2.x and 3.x family give access to generic time series tools:

-   Graphics
    -   time domain
    -   spectral analysis
-   Tests
    -   seasonality tests
    -   autocorrelation, normality, randomness tests
    


## Installation Procedure

### Version 2.2.4

Latest release of version 2

JDemetra+ is a stand-alone application packed in a zip package.

### Version 3

###  Launching JDemetra+

To open an application, double click on *nbdemetra.exe* or *nbdemetra64.exe* depending on the system version (*nbdemetra.exe* for the 32-bit system version and *nbdemetra64.exe* for the 64-bit system version).

![**Launching JDemetra+**](All_images/RunningJDemetra.jpg)

If the launching of JDemetra+ fails, you can try the following operations:

-   Check if Java SE Runtime Environment (JRE) is properly installed by typing in the following command in a terminal: *java --version*

-   Check the logs in your home directory:

    -   %appdata%/.nbdemetra/dev/var/log/ for Windows;

    -   \~/.nbdemetra/dev/var/log/ for Linux and Solaris;

    -   \~/Library/Application Support/.nbdemetra/dev/var/log/ for Mac OS X.

In order to remove a previously installed JDemetra+ version, the user should delete an appropriate JDemetra+ folder.

## Starting Window


![**JDemetra+ default window**](All_images/Jd_mainwindow.png)

By default, on the left hand side of the window two panels are visible:

-   the [*Workspace* panel](#workspace-window) stores the results generated by the software as well as settings used to create them;
-   and the [*Providers* panel](#providers-window) organises the imported raw data within each data provider;

The other key parts of the user interface are:

-   The [application menu](#application-menus).
-   A central empty zone for presenting the actual analyses further called the [Results](#results-panel) panel.

## Providers window {#providers-window}

![**The *Providers* window**](All_images/A_Ref5.jpg)

By default, JDemetra+ supports the following data sources:

-   JDBC;
-   ODBC;
-   SDMX;
-   Excel spreadsheets;
-   TSW (input files for the [Tramo-Seats-Windows application](https://www.bde.es/bde/en/secciones/servicios/Profesionales/Programas_estadi/Programas.html) by the Bank of Spain);
-   TXT;
-   USCB (input files for the [X-13-ARIMA-SEATS application](https://www.census.gov/srd/www/winx13/) by the U.S. Census Bureau);
-   XML.

All standard databases (Oracle, SQLServer, DB2, MySQL) are supported by JDemetra+ via JDBC, which is a generic interface to many relational databases. Other providers can be added by users by creating plugins (see *Plugins* section in the [Tools](tools.html) menu).

### Import data {#import-data}

General remarks on file structure and series identification 
- series are identified by their names 

#### Spreadsheet

**An example of importing process for the Excel file :**

::: {.content-visible when-format="html"}

![](All_images/Import_spreadsheet.gif)

::: 

To import data from a given data source, click on this data source in the *Providers* window shown below, choose *Open* option and specify the import details, such as a path to a data file. These details vary according to data providers. The example below show how to import the data from an Excel file.

1.  From the *Providers* window **right-click** on the *Spreadsheets* branch and choose *Open* option.

    ![**Data provider available by default**](All_images/Aimage6.jpeg)

2.  The *Open data source* window contains the following options:

    -   **Spreadsheet file** -- a path to access the Excel file.

    -   **Data format** -- the data format used to read dates and values. It includes three fields: *locale* (country), *date pattern* (data format, e.g. *yyyy-mm-dd*), *number pattern* (a metaformat of numeric value, e.g. 0.## represents two digit number).

    -   **Frequency** -- time series frequency. This can be undefined, yearly, half-yearly, four-monthly, quarterly, bi-monthly, or monthly. When the frequency is set to undefined, JDemetra+ determines the time series frequency by analysing the sequence of dates in the file.

    -   **Aggregation type** -- the type of aggregation (over time for each time series in the dataset) for the imported time series. This can be *None*, *Sum*, *Average*, *First*, *Last*, *Min* or *Max*. The aggregation can be performed only if the *frequency* parameter is specified. For example, when frequency is set to *Quarterly* and aggregation type is set to *Average*, a monthly time series is transformed to quarterly one with values that are equal to the one third of the sum of the monthly values that belong to the corresponding calendar quarter.

    -   **Clean missing** -- erases the missing values of the series.

    Next, in the *Source* section click the grey "..." button to open the file.

    ![**Data source window**](All_images/Aimage7.jpeg)

3.  Choose a file and click *OK*.

    ![**Choice of an Excel spreadsheet**](All_images/Aimage8.jpeg)

4.  The user may specify *Data format*, *Frequency* and *Aggregation type*, however this step is not compulsory. When these options are specified JDemetra+ is able to convert the time series frequency. Otherwise, the functionality that enables the time series frequency to be converted will not be available.

    ![**Options for importing data**](All_images/Aimage9.jpeg)

5.  The data are organized in a tree structure.

    ![**Dataset structure**](All_images/Aimage10.jpeg)

Once imported, your spread sheet is visible as a "node" structure

![**A structure of a dataset**](All_images/A_Ref6.jpg)

#### How to set-up your spreadsheet 

(collapase/ expand)

- dates in Excel date format,  in the first column (or in the first row) 
- titles of the series in the corresponding cell of the first row (or in the first column)
- top-left cell $A1$ can include text or it can be left empty
- empty cells are interpreted by JDemetra+ as missing values
- if empty cells are at the begining of the series they can be ignored wusing the option clean-missing.

![**Example of an Excel spreadsheet that can be imported to JDemetra+**](All_images/excel_spreadcheet.png)


#### Text or csv file

#### How to set up you text or csv file 

expand/ collapse
    
### Wrangling data

Series uploaded to the *Providers* window can be 

- [displayed](#container), modified
- tested for seasonality/ white noise ?

or used in any available algorithm (link to list)

- modelled [Modelling](modelling.html) 
- seasonnally adjusted 
- benchmarked

### Behaviour options 
The data sources can be restored after re-starting the application so that there is no need to get them again. This functionality can be set in the *Behaviour* tab available at the [*Option*](#options) item from the [*Tools*](#tools-menu) menu.

add star ?

## Workspace Structure {#workspace-window}

Restructure: present all the nodes

A workspace is a JD+ GUI specific data structure 

Rephrase: Workspace is a JDemetra+ functionality that stores the work performed by the user in a coherent and structured way. By default, each workspace contains the pre-defined modelling and seasonal adjustment specifications and a basic calendar. A specification is a set of modelling and/or seasonal adjustment parameters. Within the workspace the following items can be saved:

-   [User-defined modelling specifications](#usr-def-spec) and [seasonal adjustment specifications](#pre-def-spec);

-   Documents that contain [results from time series modelling](../reference-manual/output-modelling.html) and [output from the seasonal adjustment process](../reference-manual/output.html);

-   [User-defined calendars](#usr_def_cal);

-   [User-defined regression variables](#usr-def-var).

Together with the results from modelling and seasonal adjustment, the original data, paths to the input files and parameters of processes are all saved. These results can then be re-opened, updated, investigated and modified in further JDemetra+ sessions.

The workspace saved by JDemetra+ includes:

-   Main folder containing several folders that correspond to the different types of items created by the user and;

-   The xml file that enables the user to import the workspace to the application and to display its content.

An example of the workspace is shown in the figure below.

![**A workspace saved on PC**](All_images/A_Ref7.jpg)

The workspace can be shared with other users, which eases the burden of work with defining specifications, modelling and seasonal adjustment processes.

## Workspace Window {#workspace-window}

The workspace window displays the characteristics of a workspace 

but ALSO gives access to other peripheric routines, the results of which won't be stored in a workspace (as data structure)

Rephrase everything below

NOT TRUE: "The content of the workspace is presented in the *Workspace* window. It is divided into three sections:"

-   [Modelling](#modelling-window) (contains the default and user-defined specifications for modelling; and the output from the modelling process)

-   [Seasonal adjustment](#sa-window) (contains the default and user-defined specifications for seasonal adjustment and the output from the seasonal adjustment process),

-   Utilities ([calendars](#usr-def-cal) and [user defined variables](#usr-def-var)).

![**The *Workspace* window**](All_images/A_Ref8.jpg)



### Modelling {#modelling-window}

The algorithms implemented in JDemetra+ enable a modelling of the original time series with the RegARIMA model, 
including estimation of the regression effects such as outliers and calendar effects. These procedures can be 
used just for modelling and forecasting of the original time series but also as a  pre-treatment before performing a seasonal adjustment of the series. Hence, this pre-treatement will allow for a more reliable estimation of the time series components performed by the seasonal adjustment procedures.


This section is divided into two parts: 
* [Specifications](../reference-manual/modelling-specifications.html), which presents parameters of the modelling procedure.
* [Output](../reference-manual/output-modelling.html), which details a typical output produced by the modelling procedure.

The specifications and output of the modelling procedure are displayed in the [*Workspace* window](#workspace-window).

![**The *Workspace* window with the nodes for the modelling procedure marked**](All_images/A_Ref_d1.jpg)



### Seasonal adjustment {#sa-window}

The primary aim of the seasonal adjustment process is to remove seasonal fluctuations from the time series. To achieve this goal, seasonal adjustment methods decompose the original time series into components that capture specific movements. These components are: trend-cycle, seasonality and irregularity.
The trend-cycle component includes long-term and medium-term movements in the data. For seasonal adjustment purposes there is no need to divide this component into two parts. JDemetra+ refers to the trend-cycle as trend and consequently this convention is used here.

This section presents the options of the seasonal adjustment processes performed by the methods implemented in JDemetra+ (X-12-ARIMA/X-13ARIMA-SEATS and TRAMO/SEATS) and discusses the output displayed by JDemetra+. As these seasonal adjustment methods use different approach to the decomposition, the output produced for both of them has different structure and content. Therefore, the results for both methods are discussed separately. 
However, in contrast to the original programs, in JDemetra+ some quality indicators have been implemented for both methods, allowing for an easier comparison of the results.

This section is divided into two parts:

* [Specifications](#pre-pro-spec), which presents parameters of the seasonal adjustment procedure.
* [Output](#results-panel), which explains a typical output produced by the seasonal adjustment procedure.

The specifications and output for the seasonal adjustment procedure are displayed in the *Workspace* window under the *Seasonal adjustment* item.

![**The *Workspace* window with the nodes for the seasonal adjustment procedure marked**](All_images/A_Ref_d2.jpg)


## Results panel {#results-panel}

(rephrase + compact)

The blank zone in the figure above (on the right of the view) is the location where JDemetra+ displays various windows. More than one window can be displayed at the same time. Windows can overlap with each other with the foremost window being the one in focus or active. The active window has a darkened title bar. [The windows in the results panel can be arranged in many different ways](#window-menu), depending on the user's needs. The example below shows one of the possible views of this panel. The results of the user's analysis are displayed in an accompanying window. The picture below shows two panels -- a window containing seasonal adjustment results (upper panel) and another one containing an autoregressive spectrum (lower panel).

![**The *Results* panel filled with two windows**](All_images/A_Ref9.jpg)


## Top Bar Menus and options 


![**The Top bar menus**](All_images/top_bar_menu.png)

The majority of functionalities are available from the main application menu, which is situated at the very top of the main window. If the user moves the cursor to an entry in the main menu and clicks on the left mouse button, a drop-down menu will appear. Clicking on an entry in the drop-down menu selects the highlighted item.

![**The main menu with selected drop-down menu**](All_images/A_Ref10.jpg)

The functions available in the main application menu are:

-   [File](#file-menus)
-   [Statistical methods](#statistical-methods)
-   [Tools](#tools-menu)
-   [View](#view)
-   [Window](#window-menu)
-   [Help](#help-menu)
-   [RegArimaDoc](#RegArimaDoc)
-   [X-13Doc](#X-13Doc)
-   [TramoDoc](#TramoDoc)
-   [TramoSeatsDoc](#TramoSeatsDoc)
-   [SAProcessingDoc](#SAProcessingDoc)

### File {#file-menus}

The *File* menu is intended for working with [workspaces](#workspace-window) and [data sources](#providers-window). It offers the following functions:

-   **New Workspace** -- creates a new workspace and displays it in the *Workspace* window with a default name (*Workspace\_#number*);

-   **Open Workspace** -- opens a dialog window, which enables the user to select and open an existing workspace;

-   **Open Recent Workspace** -- presents a list of workspaces recently created by the user and enables the user to open one of them;

-   **Save Workspace** -- saves the project file named by the system under the default name (*Workspace\_#number*) and in a default location. The workspace can be re-opened at a later time;

-   **Save Workspace As...** -- saves the current workspace under the name chosen by the user in the chosen location. The workspace can be re-opened at a later time;

-   **Open Recent** -- presents a list of datasets recently used and enables the user to open one of them;

-   **Exit** -- closes an application.

![**The content of the *File* menu**](All_images/File menu.jpg)

### Statistical Methods {#statistical-methods}

Here just a hint and link to relevant chapters 

The Statistical methods menu includes functionalities for modelling, analysis and the seasonal adjustment of a time series. They are divided into three groups:

-   [Anomaly Detection](#anomaly-detection) -- allows for a purely automatic identification of regression effects;

![**The *Anomaly detection* tab.**](All_images/Statistical methods menu anomaly detection.png)

-   [Modelling](#modelling) -- enables time series modelling using the TRAMO and RegARIMA models;

![**The *Modelling* tab.**](All_images/Statistical methods menu modelling.png)

-   [Seasonal adjustment](#seasonal-adjustment??) -- intended for the seasonal adjustment of a time series with the TRAMO-SEATS and X-13ARIMA-SEATS methods.

![**The *Seasonal adjustment* tab.**](All_images/Statistical methods menu.jpg)

### Tools menu {#tools-menu}

![**The *Tools* menu**](All_images/Tools menu.jpg)

The following functionalities are available from the *Tools* menu:

-   [*Container*](#container) -- includes several tools for displaying data in a time domain;
-   [*Spectral analysis*](#spectral-analysis-windows) -- contains tools for the analysis of a time series in a frequency domain;
-   [*Aggregation*](#aggregation) -- enables the user to investigate a graph of the sum of multiple time series;
-   [*Differencing*](#differencing) -- allows for the inspection of the first regular differences of the time series;
-   [*Spreadsheet profiler*](#spreadsheet-profiler) -- offers an Excel-type view of the XLS file imported to JDemetra+.
-   [*Plugins*](#plugins) -- allows for the installation and activation of plugins, which extend JDemetra+ functionalities.
-   [*Options*](#options) -- presents the default interface settings and allows for their modification.


#### Container {#container}

*Container* includes basic tools to display the data. The following items are available: *Chart*, *Grid*, *Growth Chart* and *List*.

![**The *Container* menu**](All_images/Container tools.jpg)

detailed in data visualization part (link to set up)



#### Spectral analysis {#spectral-analysis-windows}

The *Spectral analysis* section provides three spectral graphs that allows an in-depth analysis of a time series in the frequency domain. These graphs are the *Auto-regressive Spectrum*, the *Periodogram* and the *Tukey Spectrum*. For more information the user may study [a basic desription of spectral analysis](#spectral-analysis) and [a detailed presentation of the abovementioned tools](#spectral-graphs).

![**Tools for spectral analysis**](All_images/A_Ref36.jpg)

#### Aggregation {#aggregation}

*Aggregation* calculates the sum of the selected series and provides basic information about the selected time series, including the start and end date, the number of observations and a sketch of the data graph. 

link to data visu chap 


#### Differencing {#differencing}

The *Differencing* window displays the first regular differences for the selected time series together with the corresponding periodogram and the PACF function. 

link to data visu chap 


#### Spreadsheet profiler {#spreadsheet-profiler}

The *Spreadsheet profiler* offers an Excel-type view of the XLS file imported to JDemetra+. To use this functionality drag the file name from the *Providers* window and drop it to the empty *Spreadsheet profiler* window.

![**The *Spreadsheet Profiler* window**](All_images/A_Ref40.jpg)

#### Plugins {#plugins}

Installation an functionalities of plugins are described in the related [chapter](T-plug-ins.qmd)

#### Options {#options}

The *Options* window includes five main panels: *Demetra*, *General*, *Keymap*, *Appearance* and *Miscellaneous*. They are visible in the very top of the *Options* window.

![**The main sections of the *Options* window**](All_images/A_Ref41.jpg)

By default, the *Demetra* tab is shown. It is divided into seven panels: *Behaviour*, *Demetra UI*, *Statistics*, *Data transfer*, *Demetra Paths*, *ProcDocumentItems*, and *Interchange*.

*Behaviour* defines the default reaction of JDemetra+ to some of the actions performed by the user.

-   **Providers** -- an option to show only the data providers that are currently available.

-   **Persistence** -- an option to restore the data sources after re-starting the application so that there is no need to fetch them again (**Persist opened DataSources**) and an option to restore all the content of the chart and grid tools (**Persist tools content**).

-   **Threading** -- defines how resources are allocated to the computation (**Batch Pool Size** controls the number of cores used in parallel computation and **Batch Priority** defines the priority of computation over other processes). Changing these values might improve computation speed but also reduce user interface responsiveness.

-   **Time Series** -- determines the default behaviour of the program when the user double clicks on the data. It may be useful to plot the data, visualise it on a grid, or to perform any pre-specified action, e.g. execute a seasonal adjustment procedure.

![**The content of the *Behavior* tab**](All_images/A_Ref42.jpg)

The *Demetra UI* tab enables the setting of:

-   A default colour scheme for the graphs (**Color scheme**).

-   The data format (uses MS Excel conventions). For example, ###,###.#### implies the numbers in the tables and the y-axis of the graphs will be rounded up to four decimals after the decimal point (**Data format**).

-   The default number of last years of the time series displayed in charts representing growth rates (**Growth rates**).

-   The control of the view of the window for adding pre-specified outliers. (**Pre-specified Outliers**).

-   The visibility of the icons in the context menus (**Context Menus**).

![**The content of the *Demetra UI* tab**](All_images/A_Ref43.jpg)

The *Statistics* tab includes options to control:

-   The number of years used for spectral analysis and for model stability (**Default Number of Last Years**);

-   The default pre-defined specification for seasonal adjustment (**Seasonal Adjustment**);

-   The type of the analysis of revision history (**Revision History**):

    -   *FreeParameters* -- the RegARIMA model parameters and regression coefficients of the RegARIMA model will be re-estimated each time the end point of the data is changed. This argument is ignored if no RegARIMA model is fit to the series.

    -   *Complete* -- the whole RegARIMA model together with regressors will be re-identified and re-estimated each time the end point of the data is changed. This argument is ignored if no RegARIMA model is fitted to the series.

    -   *None* -- the ARIMA parameters and regression coefficients of the RegARIMA model will be fixed throughout the analysis at the values estimated from the entire series (or model span).

-   The settings for the quality measures and tests used in a diagnostic procedure:

    -   **Default components** -- a list of series and diagnostics that are displayed in the **SAProcessing** \\(\rightarrow\\) **Output** window. The list of default items can be modified with the respective **Select** button (see figure below)
    -   **Diagnostics** -- a list of diagnostics tests, where the user can modify the default settings (see figure "*The panel for modification of the settings for the tests in the Basic checks section*" below).

![**The *Default components* section on the *Statistics* tab**](All_images/A_Ref44.jpg)

An explanation of the list of the series and diagnostics components that are displayed in the *Default components* section can be found [here](../theory/output.html).

To modify the settings for a particular measure, double click on a selected row (select the test's name from the list and click on the working tools button), introduce changes in the pop-up window and click the **OK** button.

To reset the default settings for a given test, select this test from the list and click on the backspace button situated below the working tools button. The description of the parameters for each quality measure and test used in a diagnostic procedure can be found in the [output from modelling](#results-panel) and the [output from seasonal adjustement](#results-panel) nodes.

![**The panel for modification of the settings for the tests in the *Basic checks* section**](All_images/A_Ref45.jpg)

The users can customize the diagnostics and they can specify the default settings for different outputs. Their preferences are saved between different sessions of JDemetra+. This new feature is accessible in the *Statistics* tab of the *Options* panel.

![**The settings of the output files**](All_images/A_Ref46.jpg)

The *Data Transfer* tab contains multiple options that define the behaviour of the drag and drop and copy-paste actions. To change the default settings, double click on the selected item. Once the modifications are introduced, confirm them with the **OK** button.

![**The content of the *Data Transfer* tab**](All_images/A_Ref47.jpg)

*Demetra Paths* allows the user to specify the relative location of the folders where the data can be found. In this way, the application can access data from different computers. Otherwise, the user would need to have access to the exact path where the data is located. To add a location, select the data provider, click the "**+**" button and specify the location.

![**The content of the *Demetra Paths* tab**](All_images/A_Ref48.jpg)

*ProcDocumentItems* includes a list of all reports available for processed documents like seasonal adjustment. The *Interchange* tab lists the protocols that can be used to export/import information like calendars, specifications, etc. For the time being, the user cannot customize the way the standard exchanges are done. However, such features could be implemented in plug-ins.

The next section, *General*, allows for the customisation of the proxy settings. A proxy is an intermediate server that allows an application to access the Internet. It is typically used inside a corporate network where Internet access is restricted. In JDemetra+, the proxy is used to get time series from remote servers like .Stat.

![**The *General* tab**](All_images/A_Ref49.jpg)

*Keymap* provides a list of default key shortcuts to access some of the functionalities and it allows the user to edit them and to define additional shortcuts.

![**The *Keymap* tab**](All_images/A_Ref50.jpg)

The *Appearance* and *Miscellaneous* tabs are tabs automatically provided by the Netbeans platform. They are not used by JDemetra+.

### View {#view}

The View menu contains functionalities that enable the user to modify how JDemetra+ is viewed. It offers the following items:

-   **Split** -- the function is not operational in the current version of the software.

-   **Toolbars** -- displays selected toolbars under the main menu. The *File* toolbar contains the *Save all* icon. The *Performance* toolbar includes two icons: one to show the performance of the application, the other to stop the application profiling and taking a snapshot. The *Other* toolbar determines the default behaviour of the program when the user double clicks on the data. It may be useful to plot the data, visualise it on a grid, or to perform any pre-specified action, e.g. execute a seasonal adjustment procedure.

-   **Show Only Editor** -- displays only the *Results* panel and hides other windows (e.g. *Workspace* and *Providers*).

-   **Full Screen** -- displays the current JDemetra+ view in full screen.

![**The *View* menu**](All_images/View menu.jpg)

### Window menu {#window-menu}

The *Window* menu offers several functions that facilitate the analysis of data and enables the user to adjust the interface view to the user's needs.

![**The *Window* menu**](All_images/A_Ref51.jpg)

-   **Preview Time Series** -- opens a window that plots any of the series the user selects from *Providers*.

-   **Debug** -- opens a *Preview Time Series* window that enables a fast display of the graphs for time series from a large dataset. To display the graph click on the series in the *Providers* window.

-   [**Providers**](#providers-window) -- opens (if closed) and activates the *Providers* window.

-   [**Variables**](#usr-def-var) -- opens (if closed) and activates the *Variable* window.

-   [**Workspace**](#workspace-window) -- opens (if closed) and activates the *Workspace* window.

-   **Output** -- a generic window to display outputs in the form of text; useful with certain plug-ins (e.g. tutorial descriptive statistics).

-   **Editor** -- activates the editor panel (and update the main menu consequently).

-   **Configure Window** -- enables the user to change the way that the window is displayed (maximise, float, float group, minimise, minimise group). This option is active when some window is displayed in the JD+ interface.

-   **Properties** -- opens the *Properties* window and displays the properties of the marked item (e.g. time series, data source).

-   **Reset Windows** -- restores the default JDemetra+ view.

-   **Close Window** -- closes all windows that are open.

-   **Close All Documents** -- closes all documents that are open.

-   **Close Other Documents** -- closes all documents that are open except for the one that is active (which is the last activated one).

-   **Document Groups** -- enables the user to create and manage the document groups.

-   **Documents** -- lists all documents that are active.

### Help menu {#help-menu}

### All TS&view

### Search option

